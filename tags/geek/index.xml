<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>geek on Chang's blog</title><link>//blog.yech.xyz/tags/geek/</link><description>Recent content in geek on Chang's blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><copyright>2020 by Ye Chang</copyright><lastBuildDate>Sat, 15 Feb 2020 16:10:42 +0800</lastBuildDate><atom:link href="//blog.yech.xyz/tags/geek/index.xml" rel="self" type="application/rss+xml"/><item><title>为不同客户端设置不同 DHCP</title><link>//blog.yech.xyz/posts/differnt_dhcp_setting_for_different_client/</link><pubDate>Sat, 15 Feb 2020 16:10:42 +0800</pubDate><guid>//blog.yech.xyz/posts/differnt_dhcp_setting_for_different_client/</guid><description>通过在路由器下面挂载树莓派（“旁路由”），并将其他客户端的流量通过树莓派转发出去，可以无缝实现透明代理1，并实现 DNS 服务器的功能。
将其他客户端的流量转发至“旁路由”有两种方式：
在路由器中转发 LAN 口的流量至“旁路由”。 设置 LAN 口客户端以 DHCP 获取的 gateway 及 DNS。 第 2 种配置方式中，路由器为客户端指定默认的 gateway 及 DNS，而且客户端也有权限自主修改，自由度更高。
OpenWrt 中的 DHCP 可以由 dnsmasq 来实现2，以 OpenWrt 为例，第 2 种方法设置方式如下：
在 /etc/config/dhcp 文件中添加以下配置文件2:
设置所有客户端
config dhcp 'lan' option interface 'lan' option leasetime '48h' option ndp 'relay' option ra 'server' option dhcpv6 'relay' list dhcp_option '3,192.168.2.1' list dhcp_option '6,192.168.2.1' 设置某一个客户端
config host option name 'my-PC' option mac 'XX:XX:XX:XX:XX:XX' option ip '192.</description></item></channel></rss>